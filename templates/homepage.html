{% extends 'base.html' %}

{% block title %}Homepage{% endblock %}

{% block content %}
<!-- Mapbox  -->
<div class="map">
<script src='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet' />

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZGViaWRheSIsImEiOiJja20zN3V5bXAwMDk0MnFwOTgweDh2bXY3In0.1mhCDfhwLfdgQV3kwTSSAw';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/debiday/ckn82w7530h0a17k9kiby8q0o'
});
</script>
</div>

<!-- Queries  -->

<form id="age-form">
    <label><h3>Missing children based on your age in 2021:</h3></label>
    <input name="user-age" id="user-age" type="text">
    <button id="find-button" type="submit">Find</button>
</form>

<div class="same-age_children"><p>The children who are the same age as you in the year 2021 are:</p></div>
<div id="child-info"></div>


<p><h8>Based on NAMUS database launched in 2007.</h8></p>
<h10>Data accessed April 2021</h10>

<!-- IDK   -->
<p id="child1">child</p>
<script>
    
    $('#child1').on('hover', () => {
        $('#child1').html('test'); 
    });

</script>

<!--D3 and React Graph  -->

<div id="root"></div>
<script src="/static/js/graph/bundle.js"></script>
<script src="/static/js/same_age.js"></script> 

<!--Google Graph  -->
<div class="googlegraph">
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Category', '%'],
          ['Endangered Runaways',     91],
          ['Family Abductions',      5],
          ['Critically Missing',  3],
          ['Non-family abductions', 1],
          ['Lost, Injured, Uncategorized',    1]
        ]);

        var options = {
          title: 'Missing Children Statistics',
          pieHole: 0.4,
          titleTextStyle: {color: 'white',
                           fontName: 'Poppins, arial',
                           fontSize: 16},
          legend: {textStyle: {color: 'white', fontSize: 13}},
          'width':800,
          'height':500,
          'backgroundColor': '#0D0D29',
          'is3D': true
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>
  </head>
  <body>
    <div id="donutchart" style="width: 900px; height: 500px; background-color: rgb(13, 13, 41)"></div>
  </body>
</html>
</div>


{% endblock %}
